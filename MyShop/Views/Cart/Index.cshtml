
@{
    ViewBag.Title = "View";
   // Layout = "~/Views/Shared/_Layout.cshtml";
}


<h1>Shopping Cart</h1>
<br />

<div class="shopping-cart">

    @if (ViewBag.Cart.Count == 0)
    {
        <br />
        <br />
        <br />
        <div id="EmptyDataMsg" class="alert alert-info">
            <strong>Welcome!</strong> Your shopping cart is currently empty. Let's start shopping
        </div>
    }

    else
    {
        <div class="column-labels">
        <label class="product-image">Image</label>
        <label class="product-details">Product</label>
        <label class="product-price">Price</label>
        <label class="product-quantity">Quantity</label>
        <label class="product-removal">Remove</label>
        <label class="product-line-price">Total</label>
       @* <label class="product-line-price" style="visibility:hidden">Total</label>*@
    </div>
        foreach (var item in ViewBag.Cart)
        {
        <div class="product">
            <div class="product-image">
                <img src="@Url.Content("~/content/web/products/" + @item.PID + ".jpg")" alt="@item.PName image" />
            </div>
            <div class="product-details">
                @*<div class="product-title">@item.PName</div>*@
                <p class="product-description">@item.PName</p>
            </div>
            <div class="product-price">@item.UnitPrice</div>
            <div class="product-quantity">
                <a class="glyphicon-plus" onclick="Change(this, 1, @item.PID)">+</a>
                <span class="p-name">@item.Quantity</span>
                <a class="glyphicon-minus" onclick="Change(this, 0,  @item.PID)">-</a>
                @*<a class="remove" onclick="Change(this, -1,  @item.PID)">Remove</a>*@
            </div>
            <div class="product-removal">
                @*<button class="remove-product">
                    Remove
                   
                </button>*@
            </div>
            <div class="product-line-price" id="cart-subtotal">
            @(item.Quantity * @item.UnitPrice)
            </div>
        </div>
        }



    <div class="totals">
        @*<div class="totals-item">
            <label>Subtotal</label>
            <div class="totals-value" id="cart-subtotal">71.97</div>
        </div>
        <div class="totals-item">
            <label>Tax (5%)</label>
            <div class="totals-value" id="cart-tax">3.60</div>
        </div>*@
        <div class="totals-item">
            @*<label>Shipping</label>*@
            @*<div class="totals-value" id="cart-shipping">FREE</div>*@
        </div>
        <div class="totals-item totals-item-total">
            <label>Grand Total</label>
            <div class="totals-value" id="cart-total">@ViewBag.CartTotalPrice</div>
        </div>
    </div>

    <div id="purchaseButton" style="float:right">
        @*@Html.ActionLink("Purchase", "Purchase", "Order")*@
        @Html.ActionLink("Purchase", "Purchase", "Order", null, new { @class = "btn btn-light text-uppercase" })
    </div>

    }
</div>
    

<style>
    .basket{
        visibility:hidden;
    }     
    .checkout{
        background-color:white;
    }
</style>


@*<h2>Shopping Cart</h2>

@if (ViewBag.Cart.Count == 0)
    {
        <br />
        <div id="EmptyDataMsg" class="alert alert-info">
            <strong>Welcome!</strong> Your shopping cart is currently empty. Let's start shopping
        </div>
    }
    else
    {
        <table class="cart-page">
            @foreach (var item in ViewBag.Cart)
            {
                <tr>
                    <td><span class="p-name">@item.PName</span> </td>
                    <td><span class="p-name">@String.Format("{0:c}", item.UnitPrice)</span> </td>
                    <td>
                        <a class="quantity" onclick="Change(this, 1, @item.PID)">+</a>
                        <span class="p-name">@item.Quantity</span>
                        <a class="quantity" onclick="Change(this, 0,  @item.PID)">-</a>
                        <a class="remove" onclick="Change(this, -1,  @item.PID)">Remove</a>
                    </td>
                </tr>
            }
            <tr><td>Total: </td><td id="totalPrice" colspan="2">@String.Format("{0:c}", ViewBag.CartTotalPrice)</td></tr>
        </table>
        <div class="button">
            @Html.ActionLink("Clear Cart", "Clear", "Cart", null, new { @class = "btn btn-light" })
            @Html.ActionLink("Countinue", "Purchase", "Order", null, new { @class = "btn btn-light" })
        </div>*@
